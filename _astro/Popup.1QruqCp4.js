import{r as x}from"./index.BVOCwoKb.js";var f={exports:{}},o={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w;function N(){if(w)return o;w=1;var p=Symbol.for("react.transitional.element"),m=Symbol.for("react.fragment");function s(u,r,l){var c=null;if(l!==void 0&&(c=""+l),r.key!==void 0&&(c=""+r.key),"key"in r){l={};for(var n in r)n!=="key"&&(l[n]=r[n])}else l=r;return r=l.ref,{$$typeof:p,type:u,key:c,ref:r!==void 0?r:null,props:l}}return o.Fragment=m,o.jsx=s,o.jsxs=s,o}var b;function y(){return b||(b=1,f.exports=N()),f.exports}var e=y();const j={"--diamond-width":"9px","--diamond-height":"9px","--diamond-top":"5px","--diamond-left":"-15px"};function k(){const[p,m]=x.useState(!1),[s,u]=x.useState(null),[r,l]=x.useState(null),[c,n]=x.useState(null),h=()=>{const t=new URL(window.location.href),i=t.pathname.split("/")[2],a=new URLSearchParams(t.search).get("id");m(!!a),l(i),n(a)};x.useEffect(()=>{h()},[]),x.useEffect(()=>(window.addEventListener("popstate",h),()=>window.removeEventListener("popstate",h)),[]),x.useEffect(()=>{r&&c&&fetch("/data.json").then(t=>t.json()).then(t=>{const d=t.find(a=>a.id===r);if(!d){console.warn("找不到對應的分類");return}let i=null;for(const a of d.courses)if(i=a.categoryLists.find(g=>g.courseId===c),i)break;u(i)}).catch(t=>{console.error("讀取資料失敗:",t)})},[r,c]);const v=()=>{const t=new URL(window.location.href);t.searchParams.delete("id"),history.replaceState(null,"",t.pathname),m(!1),window.location.reload()};return s&&p?e.jsxs("div",{className:" w-full my-[20px]",id:"popup",children:[e.jsx("div",{className:"my-[20px] text-center max-w-1/3 md:max-w-1/5 w-full bg-[#6d4a2f] rounded-full text-white py-[12px] px-[15px] whitespace-nowrap mx-auto",children:"淨化保濕"}),e.jsxs("div",{className:"text-xl text-center mb-[20px]",children:[" ",s?.courseName]}),e.jsx("div",{className:"w-5 h-[13px] bg-[url('../assets/diamond_l.png')] bg-no-repeat bg-center bg-contain mx-auto mb-[20px]"}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center md:max-h-[200px] overflow-hidden mb-[80px]",children:[e.jsxs("div",{className:"md:w-1/2 w-full",children:[e.jsx("div",{className:"bg-[#c3a76c] rounded-[5px] text-center text-white md:text-xl tracking-wider py-[6px] md:w-1/3 w-1/4 mb-[10px]",children:"課程功效"}),e.jsx("div",{style:j,className:"before-circle text-[#6d4a2f] text-base leading-[1.6] md:mr-[20px] mb-[10px] md:mb-0",children:s?.efficacy.map((t,d)=>{const[i,a]=t.split(":");return e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:i},`${d}_title`),e.jsx("span",{children:a},`${d}_description`)]},d)})})]}),e.jsx("div",{className:"md:w-1/2 w-full rounded-[100px] overflow-hidden md:h-auto h-[150px]",children:e.jsx("img",{src:s.courseImageUrl,alt:"course image",width:10,height:10,className:"w-full h-full object-cover ",loading:"lazy"})})]}),e.jsxs("div",{className:"w-full relative bg-[#fff] py-[30px] px-[25px] shadow-md shadow-[0_0_10px_2px_rgba(66,42,23,0.27)] md:mb-[80px] mb-[40px]",children:[e.jsx("div",{className:"bg-[#c3a76c] rounded-[5px] text-center text-white md:text-xl tracking-wider p-[6px] md:w-1/6 absolute top-[-25px] left-0",children:"課程簡介"}),e.jsx("div",{className:"text-base leading-[1.8] md:mt-[12px]",children:s?.introduction})]}),e.jsxs("div",{className:"md:w-full  border-b-1",children:[e.jsx("div",{className:"bg-[#c3a76c] rounded-[5px] text-center text-white md:text-xl tracking-wider py-[6px] md:w-1/6 w-1/4",children:"課程內容"}),e.jsx("ul",{className:"grid md:grid-cols-3 grid-cols-2 gap-x-8 gap-y-4 px-[15px] py-[30px] font-bold",children:s?.content.map((t,d)=>e.jsx("li",{style:j,className:"before-circle text-[#6d4a2f] text-base leading-[1.6]",children:t},`content_${d}`))})]}),e.jsxs("div",{className:"flex items-center md:py-[40px] py-[20px] border-b-1",children:[e.jsx("div",{className:"bg-[#c3a76c] rounded-[5px] text-center text-white md:text-xl tracking-wider py-[6px] md:w-1/6 w-1/4",children:"課程內容"}),e.jsxs("div",{className:"text-xl md:ml-[30px] ml-auto font-bold",children:[s.duration," 分鐘"]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center items-left md:py-[40px] py-[20px] border-b-1 mb-[80px]",children:[e.jsx("div",{className:"bg-[#c3a76c] rounded-[5px] text-center text-white md:text-xl tracking-wider py-[6px] md:w-1/6 w-1/4 mb-[15px] md:mb-0",children:"療程價格"}),e.jsxs("div",{className:"text-xl md:ml-[30px] flex flex-col md:flex-row md:grid-cols-3 md:gap-x-8 md:gap-y-4",children:[e.jsxs("div",{className:"flex items-center md:mb-0 mb-[15px]",children:[e.jsx("span",{className:"font-bold mr-[20px]",children:"單堂"}),e.jsxs("span",{children:["$",s.price]})]}),e.jsxs("div",{className:"flex items-center md:px-[20px] md:border-r-1 md:border-l-1 md:mb-0 mb-[15px]",children:[e.jsx("span",{className:"font-bold mr-[20px]",children:"五堂"}),e.jsxs("span",{children:["$",s.price*5]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"font-bold mr-[20px]",children:"十堂"}),e.jsxs("span",{children:["$",s.price*10]})]})]})]}),e.jsxs("div",{className:"w-full relative bg-[#fff] shadow-md shadow-[0_0_10px_2px_rgba(66,42,23,0.27)] md:h-[200px] h-[150px]",children:[e.jsx("div",{className:"bg-[#c3a76c] rounded-[5px] text-center text-white md:text-xl tracking-wider p-[6px] md:w-1/6 absolute top-[-25px] left-0",children:"居家建議"}),e.jsxs("div",{className:"flex items-center justify-between h-full",children:[e.jsx("div",{className:"w-1/3 text-center flex flex-col items-end md:text-base text-sm md:leading-[1.8]",children:s.products.map((t,d)=>e.jsx("a",{href:t.link,className:"md:mb-[12px] mb-[6px] text-[#6d4a2f] hover:text-[#c3a76c] transition-colors",children:t.productName},`product_${d}`))}),e.jsx("div",{className:"img-wrap w-2/3 h-full",children:e.jsx("img",{src:s.productsImageUrl,width:100,height:100,alt:"居家建議",className:" w-full h-full object-cover"})})]})]}),e.jsxs("div",{className:"arrow-btn flex items-center mt-[40px] relative cursor-pointer",onClick:v,children:[e.jsx("div",{className:"w-[47px] h-[47px] rounded-full bg-[#fff] shadow-[0_0_10px_2px_rgba(66,42,23,0.27)] "}),e.jsx("div",{className:"arrow"}),e.jsx("div",{className:"ml-[40px]",children:"BACK"})]})]}):null}export{k as default};
